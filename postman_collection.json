{
	"info": {
		"_postman_id": "dapodik-api-collection",
		"name": "Dapodik API Collection",
		"description": "Comprehensive collection for testing Dapodik (Data Pokok Pendidikan) API endpoints",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "dapodik-api"
	},
	"item": [
		{
			"name": "Dashboard & Analytics",
			"item": [
				{
					"name": "Dashboard Summary",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/dapodik/dashboard/summary",
							"host": ["{{base_url}}"],
							"path": ["api", "dapodik", "dashboard", "summary"]
						},
						"description": "Get comprehensive dashboard summary with key metrics including total schools, teachers, students, and classrooms"
					}
				},
				{
					"name": "Dashboard Statistics",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/dapodik/dashboard/statistics",
							"host": ["{{base_url}}"],
							"path": ["api", "dapodik", "dashboard", "statistics"]
						},
						"description": "Get detailed statistics breakdown including education types, school status, accreditation, and students by grade"
					}
				}
			]
		},
		{
			"name": "Schools",
			"item": [
				{
					"name": "List Schools",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/dapodik/schools?page=1&per_page=15&kabupaten=Jakarta%20Pusat&bentuk_pendidikan=SD&sort_by=nama_satuan_pendidikan&sort_order=asc",
							"host": ["{{base_url}}"],
							"path": ["api", "dapodik", "schools"],
							"query": [
								{"key": "page", "value": "1", "description": "Page number"},
								{"key": "per_page", "value": "15", "description": "Items per page"},
								{"key": "kabupaten", "value": "Jakarta Pusat", "description": "Filter by kabupaten"},
								{"key": "bentuk_pendidikan", "value": "SD", "description": "Filter by education type"},
								{"key": "sort_by", "value": "nama_satuan_pendidikan", "description": "Sort field"},
								{"key": "sort_order", "value": "asc", "description": "Sort order"}
							]
						},
						"description": "Get paginated list of schools with filtering and search options"
					}
				},
				{
					"name": "School Detail by NPSN",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/dapodik/schools/20100101",
							"host": ["{{base_url}}"],
							"path": ["api", "dapodik", "schools", "20100101"]
						},
						"description": "Get detailed information about a specific school by NPSN"
					}
				},
				{
					"name": "Nearby Schools",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/dapodik/schools/nearby?lat=-6.2088&lng=106.8456&radius=5",
							"host": ["{{base_url}}"],
							"path": ["api", "dapodik", "schools", "nearby"],
							"query": [
								{"key": "lat", "value": "-6.2088", "description": "Latitude"},
								{"key": "lng", "value": "106.8456", "description": "Longitude"},
								{"key": "radius", "value": "5", "description": "Radius in km"}
							]
						},
						"description": "Find schools within a specified radius from given coordinates"
					}
				}
			]
		},
		{
			"name": "Geographic & Location",
			"item": [
				{
					"name": "Kabupaten List",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/dapodik/locations/kabupaten",
							"host": ["{{base_url}}"],
							"path": ["api", "dapodik", "locations", "kabupaten"]
						},
						"description": "Get list of kabupaten with school counts"
					}
				},
				{
					"name": "Kecamatan List",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/dapodik/locations/kecamatan?kabupaten=Jakarta%20Pusat",
							"host": ["{{base_url}}"],
							"path": ["api", "dapodik", "locations", "kecamatan"],
							"query": [
								{"key": "kabupaten", "value": "Jakarta Pusat", "description": "Filter by kabupaten"}
							]
						},
						"description": "Get list of kecamatan with school counts, optionally filtered by kabupaten"
					}
				},
				{
					"name": "Desa List",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/dapodik/locations/desa?kecamatan=Menteng",
							"host": ["{{base_url}}"],
							"path": ["api", "dapodik", "locations", "desa"],
							"query": [
								{"key": "kecamatan", "value": "Menteng", "description": "Filter by kecamatan"}
							]
						},
						"description": "Get list of desa with school counts, optionally filtered by kecamatan"
					}
				}
			]
		},
		{
			"name": "Analytics",
			"item": [
				{
					"name": "Student Analytics",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/dapodik/analytics/students?kabupaten=Jakarta%20Pusat",
							"host": ["{{base_url}}"],
							"path": ["api", "dapodik", "analytics", "students"],
							"query": [
								{"key": "kabupaten", "value": "Jakarta Pusat", "description": "Filter by kabupaten"}
							]
						},
						"description": "Get comprehensive student analytics with breakdown by grade and gender"
					}
				},
				{
					"name": "Teacher Analytics",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/dapodik/analytics/teachers?kabupaten=Jakarta%20Pusat",
							"host": ["{{base_url}}"],
							"path": ["api", "dapodik", "analytics", "teachers"],
							"query": [
								{"key": "kabupaten", "value": "Jakarta Pusat", "description": "Filter by kabupaten"}
							]
						},
						"description": "Get teacher and staff analytics"
					}
				},
				{
					"name": "Classroom Analytics",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/dapodik/analytics/classrooms",
							"host": ["{{base_url}}"],
							"path": ["api", "dapodik", "analytics", "classrooms"]
						},
						"description": "Get classroom and rombongan belajar analytics"
					}
				}
			]
		},
		{
			"name": "Accreditation",
			"item": [
				{
					"name": "Accreditation Summary",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/dapodik/accreditation/summary",
							"host": ["{{base_url}}"],
							"path": ["api", "dapodik", "accreditation", "summary"]
						},
						"description": "Get accreditation statistics and best performing schools"
					}
				},
				{
					"name": "Expiring Accreditation",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/dapodik/accreditation/expiring",
							"host": ["{{base_url}}"],
							"path": ["api", "dapodik", "accreditation", "expiring"]
						},
						"description": "Get schools with accreditation expiring within 2 years"
					}
				}
			]
		},
		{
			"name": "Search & Discovery",
			"item": [
				{
					"name": "Search Schools",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/dapodik/search?q=SDN%2001&limit=10",
							"host": ["{{base_url}}"],
							"path": ["api", "dapodik", "search"],
							"query": [
								{"key": "q", "value": "SDN 01", "description": "Search query (min 2 characters)"},
								{"key": "limit", "value": "10", "description": "Result limit"}
							]
						},
						"description": "Search schools by name or NPSN"
					}
				},
				{
					"name": "Map Data",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/dapodik/map-data?kabupaten=Jakarta%20Pusat",
							"host": ["{{base_url}}"],
							"path": ["api", "dapodik", "map-data"],
							"query": [
								{"key": "kabupaten", "value": "Jakarta Pusat", "description": "Filter by kabupaten"}
							]
						},
						"description": "Get school data for mapping applications"
					}
				}
			]
		},
		{
			"name": "Export & Health",
			"item": [
				{
					"name": "Export Excel",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/dapodik/export/excel?kabupaten=Jakarta%20Pusat&bentuk_pendidikan=SD",
							"host": ["{{base_url}}"],
							"path": ["api", "dapodik", "export", "excel"],
							"query": [
								{"key": "kabupaten", "value": "Jakarta Pusat", "description": "Filter by kabupaten"},
								{"key": "bentuk_pendidikan", "value": "SD", "description": "Filter by education type"}
							]
						},
						"description": "Export data to Excel format"
					}
				},
				{
					"name": "API Health Check",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/dapodik/health",
							"host": ["{{base_url}}"],
							"path": ["api", "dapodik", "health"]
						},
						"description": "Check API health and database connection status"
					}
				}
			]
		},
		{
			"name": "Dashboard API",
			"item": [
				{
					"name": "Dashboard Summary",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/dashboard/summary?period=month",
							"host": ["{{base_url}}"],
							"path": ["api", "dashboard", "summary"],
							"query": [
								{"key": "period", "value": "month", "description": "Time period (today, week, month, year)"}
							]
						},
						"description": "Get overall summary statistics for all metrics"
					}
				},
				{
					"name": "Unit Kerja Data",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/dashboard/unit-kerja?page=1&per_page=15&sort_by=persentase_tl&sort_direction=desc",
							"host": ["{{base_url}}"],
							"path": ["api", "dashboard", "unit-kerja"],
							"query": [
								{"key": "page", "value": "1", "description": "Page number"},
								{"key": "per_page", "value": "15", "description": "Items per page"},
								{"key": "sort_by", "value": "persentase_tl", "description": "Sort field"},
								{"key": "sort_direction", "value": "desc", "description": "Sort direction"}
							]
						},
						"description": "Get data grouped by unit kerja with pagination and filtering options"
					}
				},
				{
					"name": "Top Performing Units",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/dashboard/unit-kerja/top?limit=10&period=month",
							"host": ["{{base_url}}"],
							"path": ["api", "dashboard", "unit-kerja", "top"],
							"query": [
								{"key": "limit", "value": "10", "description": "Number of top units to return"},
								{"key": "period", "value": "month", "description": "Time period"}
							]
						},
						"description": "Get the top performing unit kerja based on persentase_tl"
					}
				},
				{
					"name": "Last Seen Activity",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/dashboard/activity/last-seen?limit=10",
							"host": ["{{base_url}}"],
							"path": ["api", "dashboard", "activity", "last-seen"],
							"query": [
								{"key": "limit", "value": "10", "description": "Number of activities to return"}
							]
						},
						"description": "Get the most recent activity updates"
					}
				},
				{
					"name": "Status Detail",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/dashboard/status-detail?period=month",
							"host": ["{{base_url}}"],
							"path": ["api", "dashboard", "status-detail"],
							"query": [
								{"key": "period", "value": "month", "description": "Time period"}
							]
						},
						"description": "Get detailed status breakdown"
					}
				},
				{
					"name": "RTL Duration",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/dashboard/durasi/rtl?period=month",
							"host": ["{{base_url}}"],
							"path": ["api", "dashboard", "durasi", "rtl"],
							"query": [
								{"key": "period", "value": "month", "description": "Time period"}
							]
						},
						"description": "Get RTL (Rencana Tindak Lanjut) duration statistics"
					}
				},
				{
					"name": "RHP Duration",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/dashboard/durasi/rhp?period=month",
							"host": ["{{base_url}}"],
							"path": ["api", "dashboard", "durasi", "rhp"],
							"query": [
								{"key": "period", "value": "month", "description": "Time period"}
							]
						},
						"description": "Get RHP (Rencana Hasil Pengawasan) duration statistics"
					}
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Pre-request script for authentication",
					"if (pm.environment.get('token')) {",
					"    pm.request.headers.add({",
					"        key: 'Authorization',",
					"        value: 'Bearer ' + pm.environment.get('token')",
					"    });",
					"}"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Test script for response validation",
					"pm.test('Status code is 200', function () {",
					"    pm.response.to.have.status(200);",
					"});",
					"",
					"pm.test('Response has success property', function () {",
					"    var jsonData = pm.response.json();",
					"    pm.expect(jsonData).to.have.property('success');",
					"});",
					"",
					"pm.test('Response has data property', function () {",
					"    var jsonData = pm.response.json();",
					"    pm.expect(jsonData).to.have.property('data');",
					"});",
					"",
					"// Log response for debugging",
					"console.log('Response:', pm.response.json());"
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000",
			"type": "string",
			"description": "Base URL for the API"
		},
		{
			"key": "token",
			"value": "your-auth-token-here",
			"type": "string",
			"description": "Authentication token for API access"
		}
	]
}
